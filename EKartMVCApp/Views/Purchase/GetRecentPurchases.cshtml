@model IEnumerable<EKartMVCApp.Models.Purchase>

@{
    ViewBag.Title = "Recent Purchases";
    Layout = "~/Views/Shared/_LayoutCustomer.cshtml";
}
<div class="col-md-3">
</div>
<div class="col-md-7">
    <h1>Recent Orders/Purchases</h1>
    &nbsp;
</div>
<h4>Welcome: @Session["username"]</h4>
<b>@Html.ActionLink("Update Customer Details", "UpdateCustomerDetails", "Customer")</b> ||
<b>@Html.ActionLink("Change Password", "ChangePassword", "Customer")</b> ||
<b class="text-center">@Html.ActionLink("Cart", "GetCart", "Product")</b> 
<hr />
<br />
<table class="table" border="1">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.ProductName)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ProductId)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.QuantityPurchased)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.DateOfPurchase)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.ProductName)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ProductId)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.QuantityPurchased)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.DateOfPurchase)
        </td>
        <td>
            <b>@Html.ActionLink("Order Details", "OrderDetails", "Purchase", new { id = item.PurchaseId }, null)</b> |
            <b>@Html.ActionLink("Delete Order Detail", "RemovePurchaseDetail", "Purchase", new { id = item.PurchaseId }, null)</b> |
            <b>@Html.ActionLink("Buy Again", "AddToCart", "Product", new { id = item.ProductId }, null)</b>
        </td>
    </tr>
}
</table>
<h4><b>@Html.ActionLink("Back To Homepage", "ViewCategories", "Category", null, new { @style = "color:#000aaa;" })</b></h4>

