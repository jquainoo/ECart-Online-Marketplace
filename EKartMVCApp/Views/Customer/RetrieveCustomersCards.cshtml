@model IEnumerable<EKartMVCApp.Models.CreditCard>

@{
    ViewBag.Title = "Saved Credit Cards";
    Layout = "~/Views/Shared/_LayoutCustomer.cshtml";
}
<div class="col-md-3">
</div>
<div class="col-md-7">
    <h1><b>My Credit Cards</b></h1>
    &nbsp;
</div>
<h4>Welcome: @Session["username"]</h4>
<b>@Html.ActionLink("Update Customer Details", "UpdateCustomerDetails", "Customer")</b> ||
<b>@Html.ActionLink("Change Password", "ChangePassword", "Customer")</b> ||
<b class="text-center">@Html.ActionLink("Cart", "GetCart", "Product")</b> ||
<b>@Html.ActionLink("Recent Orders", "GetRecentPurchases", "Purchase")</b>
<hr />
<br />
<table class="table" border="1">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.NameOnCard)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CreditCardNumber)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CardType)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.CVV)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ExpiryDate)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.NameOnCard)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CreditCardNumber)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CardType)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.CVV)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.ExpiryDate)
        </td>
        <td>
            @Html.ActionLink("Card Details", "CardDetails", "Customer", new {id = item.CreditCardNumber}, null) |
            @Html.ActionLink("Delete", "DeleteCard", new { id=item.CreditCardNumber}, null)
        </td>
    </tr>
}
</table>
